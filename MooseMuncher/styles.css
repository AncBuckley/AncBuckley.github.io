:root{
  --bg:#0b1020;
  --panel:#121a33;
  --muted:#8ea0d0;
  --accent:#6de2ff;
  --accent2:#9cff6d;
  --danger:#ff6d8a;
  --warning:#ffd166;
  --good:#77ffb4;
  --tile:#141e3f;
  --tile2:#1b2753;
  --shadow:0 10px 30px rgba(0,0,0,.4);
  --radius:18px;
  --text:#e8eeff;
}

*{ box-sizing:border-box; }
html, body { height:100%; width:100%; }
body{
  margin:0;
  background: radial-gradient(1200px 800px at 20% -10%, #142048 0%, #0b1020 45%, #070a16 100%);
  color: var(--text);
  font: 16px/1.35 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  overflow:hidden;
}

/* App layout: HUD (auto) + game area (fills rest) */
#root{
  height:100vh; width:100vw;
  display:grid;
  grid-template-rows: auto 1fr;
  padding:12px;
}

/* HUD */
.hud{
  display:flex; align-items:center; gap:12px; justify-content:space-between; flex-wrap:wrap;
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0));
  border:1px solid rgba(255,255,255,.08);
  border-radius: var(--radius);
  padding:12px 16px; box-shadow: var(--shadow);
}
.hud-left{ display:flex; align-items:center; gap:12px; flex-wrap:wrap }
.title{ font-weight:800; letter-spacing:.4px; color:#f3f6ff; text-shadow:0 2px 12px rgba(109,226,255,.25) }
.badge{ padding:6px 10px; border-radius:12px; background: rgba(255,255,255,.06); color:#cfe0ff; border:1px solid rgba(255,255,255,.1)}
.stat{ display:flex; align-items:center; gap:8px; padding:6px 10px; border-radius:12px; background:#0e1531; border:1px solid #232c59 }
.btn{ padding:8px 14px; border-radius:12px; background: linear-gradient(180deg, #1a244f, #121a33); border:1px solid #293773; color:#dce7ff; cursor:pointer; box-shadow: var(--shadow); }
.btn:hover{ filter: brightness(1.08)}
.btn:active{ transform: translateY(1px)}

/* Game area wrapper */
.wrap{
  position:relative;
  min-height:0;           /* allow child to shrink within grid */
  display:grid;
  grid-template-columns: 1fr;
  gap:12px;
}

/* The game canvas fills ALL remaining space */
canvas#game{
  width:100%;
  height:100%;
  display:block;
  background: radial-gradient(1600px 800px at 50% -10%, #1b2753, #0f1733 45%, #0b1020);
  border-radius: var(--radius);
  border:1px solid rgba(255,255,255,.08);
  box-shadow: var(--shadow);
}

/* Overlays (menus/help/gameover) */
.overlay{ position:absolute; inset:10px; display:flex; align-items:center; justify-content:center; pointer-events:none; }
.card{ width:min(680px, 92%); background: linear-gradient(180deg, var(--panel), #0c1229); border:1px solid #2a376f; border-radius: 20px; box-shadow: var(--shadow); padding:22px; pointer-events:auto }
.card h1{ margin:0 0 8px; font-size:28px }
.card p{ color:#c6d6ff }
.row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap }
.row > *{ flex: 1 1 auto }
.select{ appearance:none; padding:10px 12px; border-radius:12px; border:1px solid #31407e; background:#0b1537; color:#e7f0ff; }
.help-list{ display:grid; grid-template-columns: 1fr 1fr; gap:8px 18px; margin:10px 0 16px }
.help-list div{ background:#0d1532; border:1px solid #213067; padding:10px 12px; border-radius:12px }
.kbd{ font-weight:700; padding:2px 8px; border-radius:8px; background:#172251; border:1px solid #2b3a7b; color:#cfe2ff }
.label{ opacity:.75; font-size:12px }
.hint{ opacity:.75; font-size:12px; margin-top:10px }
.hide{ display:none }

.toast{ position:absolute; right:18px; bottom:18px; background:#0c132b; border:1px solid #273267; border-radius:12px; padding:10px 12px; color:#cfe2ff; box-shadow: var(--shadow); }

/* Menu progress bar */
.progress{ height:8px; border-radius:10px; background: #0a1437; border:1px solid #20306b; overflow:hidden }
.progress > div{ height:100%; background: linear-gradient(90deg, #46d4ff, #9cff6d); width:0% }

/* Small screens: keep overlays readable */
@media (max-width: 600px){
  .help-list{ grid-template-columns: 1fr; }
}
